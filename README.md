# ğŸ¤– VR è™šæ‹Ÿæœºå™¨äººé¥æ“ä½œç³»ç»Ÿ

åŸºäº **WebXR** å’Œ **WebRTC** çš„è™šæ‹Ÿæœºå™¨äººè¿œç¨‹æ§åˆ¶ç³»ç»Ÿã€‚é€šè¿‡ VR å¤´æ˜¾å®æ—¶æŸ¥çœ‹è™šæ‹Ÿæœºå™¨äººçš„åŒç›®è§†é‡ï¼Œå¹¶æ§åˆ¶å…¶è¿åŠ¨ã€‚

![System Architecture](https://img.shields.io/badge/WebXR-Enabled-blue)
![WebRTC](https://img.shields.io/badge/WebRTC-P2P-green)
![Python](https://img.shields.io/badge/Python-3.8+-yellow)
![Three.js](https://img.shields.io/badge/Three.js-0.181.0-orange)

---

## âœ¨ ç‰¹æ€§

- ğŸ¥½ **æ²‰æµ¸å¼ VR ä½“éªŒ**ï¼šé€šè¿‡ WebXR åœ¨ VR å¤´æ˜¾ä¸­æŸ¥çœ‹è™šæ‹Ÿæœºå™¨äººè§†é‡
- ğŸ‘€ **çœŸå®ç«‹ä½“è§†è§‰**ï¼šåŒç›®ç›¸æœºæ¸²æŸ“ï¼ŒçœŸå®çš„æ·±åº¦æ„ŸçŸ¥
- âš¡ **è¶…ä½å»¶è¿Ÿ**ï¼šWebRTC P2P è¿æ¥ï¼Œç«¯åˆ°ç«¯å»¶è¿Ÿ < 100ms
- ğŸ® **6DoF æ§åˆ¶**ï¼šå®æ—¶ä¼ è¾“å¤´æ˜¾å’Œæ‰‹æŸ„çš„ä½ç½®ã€æ—‹è½¬æ•°æ®
- ğŸ¤– **ç‰©ç†ä»¿çœŸ**ï¼šåŸºäº PyBullet çš„é«˜ç²¾åº¦ç‰©ç†æ¨¡æ‹Ÿï¼ˆ240Hzï¼‰
- ğŸŒ **è·¨å¹³å°**ï¼šæ”¯æŒ Meta Questã€Picoã€HTC Vive ç­‰ä¸»æµ VR è®¾å¤‡

---

## ğŸ¬ æ¼”ç¤ºæ•ˆæœ

### VR å¤´æ˜¾ä¸­
- çœ‹åˆ°è™šæ‹Ÿæœºå™¨äºº"çœ¼ç›"çœ‹åˆ°çš„ 3D ä¸–ç•Œ
- å·¦å³çœ¼åˆ†åˆ«æ˜¾ç¤ºä¸åŒè§†è§’ï¼ˆç«‹ä½“æ•ˆæœï¼‰
- åœºæ™¯ä¸­æœ‰å½©è‰²ç«‹æ–¹ä½“å’Œåœ°é¢

### æ§åˆ¶å°è¾“å‡º
```
ğŸ“ å¤´æ˜¾ - ä½ç½®: (0.00, 1.60, 0.00), æ—‹è½¬: (0.00, 0.00, 0.00, 1.00)
ğŸ® left æ‰‹æŸ„ - ä½ç½®: (-0.20, 1.40, -0.30), æ‰³æœº: 0.00, æ¡æŒ: 0.00
ğŸ® right æ‰‹æŸ„ - ä½ç½®: (0.20, 1.40, -0.30), æ‰³æœº: 0.50, æ¡æŒ: 0.00
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Python 3.8+**
- **Node.js 16+**
- **VR å¤´æ˜¾**ï¼ˆMeta Questã€Picoã€HTC Vive ç­‰ï¼‰

### å®‰è£…ä¾èµ–

```bash
# è™šæ‹Ÿæœºå™¨äººç«¯
cd virtual-robot
pip install -r requirements.txt

# VR å®¢æˆ·ç«¯
cd ..
npm install
```

### å¯åŠ¨ç³»ç»Ÿ

#### æ–¹å¼ 1: ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# ç»ˆç«¯ 1: å¯åŠ¨è™šæ‹Ÿæœºå™¨äººæœåŠ¡å™¨
åŒå‡» start-robot.bat

# ç»ˆç«¯ 2: å¯åŠ¨ VR å®¢æˆ·ç«¯
åŒå‡» start-client.bat
```

#### æ–¹å¼ 2: æ‰‹åŠ¨å¯åŠ¨

```bash
# ç»ˆç«¯ 1: å¯åŠ¨è™šæ‹Ÿæœºå™¨äººæœåŠ¡å™¨
cd virtual-robot
python main.py

# ç»ˆç«¯ 2: å¯åŠ¨ VR å®¢æˆ·ç«¯
npm run dev
```

### è¿›å…¥ VR

1. ç”¨ VR å¤´æ˜¾çš„æµè§ˆå™¨è®¿é—®: `https://localhost:5173`
2. ç­‰å¾…è¿æ¥æˆåŠŸæç¤º
3. ç‚¹å‡» "ENTER VR" æŒ‰é’®
4. ç§»åŠ¨å¤´éƒ¨å’Œæ‰‹æŸ„

**è¯¦ç»†æ­¥éª¤**: æŸ¥çœ‹ [QUICKSTART.md](QUICKSTART.md)

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
d:/Code/
â”œâ”€â”€ virtual-robot/              # è™šæ‹Ÿæœºå™¨äººæœåŠ¡å™¨ï¼ˆPythonï¼‰
â”‚   â”œâ”€â”€ main.py                # ä¸»å…¥å£
â”‚   â”œâ”€â”€ robot_sim.py           # PyBullet ä»¿çœŸ
â”‚   â”œâ”€â”€ stereo_camera.py       # è™šæ‹ŸåŒç›®ç›¸æœº
â”‚   â”œâ”€â”€ webrtc_server.py       # WebRTC æœåŠ¡ç«¯
â”‚   â”œâ”€â”€ signaling_server.py    # ä¿¡ä»¤æœåŠ¡å™¨
â”‚   â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”‚   â””â”€â”€ README.md             # è¯¦ç»†æ–‡æ¡£
â”‚
â”œâ”€â”€ src/                       # VR å®¢æˆ·ç«¯æºç 
â”‚   â”œâ”€â”€ webrtc-client.js      # WebRTC å®¢æˆ·ç«¯
â”‚   â””â”€â”€ vr-scene.js           # VR åœºæ™¯æ¸²æŸ“
â”‚
â”œâ”€â”€ main.js                    # VR å®¢æˆ·ç«¯ä¸»å…¥å£
â”œâ”€â”€ index.html                 # HTML é¡µé¢
â”œâ”€â”€ package.json               # Node.js ä¾èµ–
â”‚
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ PROJECT_PLAN.md       # é¡¹ç›®è®¡åˆ’å’Œæ¶æ„æ–‡æ¡£
â”‚
â”œâ”€â”€ QUICKSTART.md             # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ README.md                 # æœ¬æ–‡æ¡£
â”œâ”€â”€ start-robot.bat           # å¯åŠ¨è„šæœ¬ï¼ˆè™šæ‹Ÿæœºå™¨äººï¼‰
â””â”€â”€ start-client.bat          # å¯åŠ¨è„šæœ¬ï¼ˆVR å®¢æˆ·ç«¯ï¼‰
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### è™šæ‹Ÿæœºå™¨äººç«¯
- **Python 3.8+**
- **PyBullet** - ç‰©ç†ä»¿çœŸå’Œæ¸²æŸ“
- **aiortc** - WebRTC å®ç°
- **OpenCV** - å›¾åƒå¤„ç†
- **WebSockets** - ä¿¡ä»¤æœåŠ¡å™¨

### VR å®¢æˆ·ç«¯
- **Three.js** - 3D æ¸²æŸ“å¼•æ“
- **WebXR Device API** - VR è®¾å¤‡æ¥å£
- **WebRTC API** - å®æ—¶é€šä¿¡
- **Vite** - å¼€å‘æœåŠ¡å™¨

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       VR å®¢æˆ·ç«¯ (æµè§ˆå™¨)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Three.js WebXR åœºæ™¯             â”‚   â”‚
â”‚  â”‚  - å·¦çœ¼è§†é¢‘å¹³é¢                  â”‚   â”‚
â”‚  â”‚  - å³çœ¼è§†é¢‘å¹³é¢                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  WebRTC å®¢æˆ·ç«¯                   â”‚   â”‚
â”‚  â”‚  - æ¥æ”¶: 2è·¯è§†é¢‘æµ               â”‚   â”‚
â”‚  â”‚  - å‘é€: æ§åˆ¶æ•°æ®                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
        WebRTC P2P è¿æ¥
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è™šæ‹Ÿæœºå™¨äººæœåŠ¡å™¨ (Python)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  PyBullet ç‰©ç†ä»¿çœŸ               â”‚   â”‚
â”‚  â”‚  - æœºå™¨äººæ¨¡å‹                    â”‚   â”‚
â”‚  â”‚  - ç‰©ç†æ¨¡æ‹Ÿ (240Hz)              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è™šæ‹ŸåŒç›®ç›¸æœº                    â”‚   â”‚
â”‚  â”‚  - å·¦çœ¼æ¸²æŸ“                      â”‚   â”‚
â”‚  â”‚  - å³çœ¼æ¸²æŸ“                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  WebRTC æœåŠ¡ç«¯                   â”‚   â”‚
â”‚  â”‚  - å‘é€: è§†é¢‘æµ                  â”‚   â”‚
â”‚  â”‚  - æ¥æ”¶: æ§åˆ¶æ•°æ®                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | å®é™…å€¼ |
|------|--------|--------|
| è§†é¢‘å»¶è¿Ÿ | < 100ms | ~50-80ms (å±€åŸŸç½‘) |
| è§†é¢‘å¸§ç‡ | 30 fps | 30 fps |
| æ§åˆ¶é¢‘ç‡ | 60 Hz | 60 Hz |
| ç‰©ç†ä»¿çœŸ | 240 Hz | 240 Hz |
| è§†é¢‘åˆ†è¾¨ç‡ | 640x480 | å¯è°ƒèŠ‚ |

---

## ğŸ¯ ä¸‹ä¸€æ­¥å¼€å‘

### çŸ­æœŸï¼ˆ1-2å¤©ï¼‰
- [ ] æ·»åŠ æ€§èƒ½ç›‘æ§é¢æ¿
- [ ] å®ç°æ‰‹è‡‚æ§åˆ¶ï¼ˆé€†è¿åŠ¨å­¦ï¼‰
- [ ] æ·»åŠ è™šæ‹Ÿæ‰‹éƒ¨æ¨¡å‹
- [ ] æ”¯æŒæ‰‹æŸ„éœ‡åŠ¨åé¦ˆ

### ä¸­æœŸï¼ˆ1å‘¨ï¼‰
- [ ] é›†æˆæ›´å¤æ‚çš„æœºå™¨äººæ¨¡å‹
- [ ] å®ç°ç‰©ä½“æŠ“å–äº¤äº’
- [ ] æ·»åŠ è™šæ‹Ÿç¯å¢ƒ
- [ ] ä¼˜åŒ–è§†é¢‘ç¼–ç 

### é•¿æœŸï¼ˆæœªæ¥ï¼‰
- [ ] å¯¹æ¥çœŸå®æœºå™¨äººç¡¬ä»¶
- [ ] ROS2 é›†æˆ
- [ ] å¤šç”¨æˆ·åä½œ
- [ ] äº‘ç«¯éƒ¨ç½²

---

## ğŸ”§ æ•…éšœæ’é™¤

é‡åˆ°é—®é¢˜ï¼ŸæŸ¥çœ‹è¯¦ç»†çš„æ•…éšœæ’é™¤æŒ‡å—ï¼š

- **[TROUBLESHOOTING.md](TROUBLESHOOTING.md)** - å®Œæ•´çš„æ•…éšœæ’é™¤æ–‡æ¡£
- **[QUICKSTART.md](QUICKSTART.md)** - å¿«é€Ÿå¼€å§‹æŒ‡å—ä¸­çš„å¸¸è§é—®é¢˜

### å¿«é€Ÿä¿®å¤

#### âœ… æ‰€æœ‰å·²çŸ¥é—®é¢˜å·²ä¿®å¤

1. **WebSocket Handler é”™è¯¯** - å·²ä¿®å¤
2. **ICE Candidate æ ¼å¼é”™è¯¯** - å·²ä¿®å¤
3. **Transceiver Direction é”™è¯¯** - å·²ä¿®å¤

æŸ¥çœ‹è¯¦ç»†ä¿®å¤å†å²ï¼š[FIXES.md](FIXES.md)

#### å¦‚æœé‡åˆ°é—®é¢˜

```bash
# 1. ç¡®ä¿ä½¿ç”¨æœ€æ–°ä»£ç 
git pull  # å¦‚æœä½¿ç”¨ git

# 2. é‡å¯æœåŠ¡
# è™šæ‹Ÿæœºå™¨äººç«¯
cd virtual-robot
python main.py

# VR å®¢æˆ·ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
npm run dev
```

---

## ğŸ“š æ–‡æ¡£

- **å¿«é€Ÿå¼€å§‹**: [QUICKSTART.md](QUICKSTART.md)
- **è¯¦ç»†æ–‡æ¡£**: [virtual-robot/README.md](virtual-robot/README.md)
- **é¡¹ç›®è®¡åˆ’**: [docs/PROJECT_PLAN.md](docs/PROJECT_PLAN.md)

---

## ğŸ“ è®¸å¯è¯

MIT License

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ‘¨â€ğŸ’» ä½œè€…

ç”± Augment Agent å¼€å‘

---

**å¼€å§‹ä½ çš„ VR æœºå™¨äººä¹‹æ—…å§ï¼ğŸš€**

